<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>星空</title>
    <link rel="stylesheet" type="text/css" href="static/css/_Public.css" />
    <link rel="stylesheet" type="text/css" href="static/css/login.css" />
    <script type="text/javascript" src="static/js/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="static/js/polygonizr/polygonizr.min.js"></script>
    <script type="text/javascript" src="static/js/ownjs/login.js"></script>
    <script type="text/javascript" src="static/js/ownjs/public.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
      <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
      <![endif]-->
  </head>
  <body>
    <div class="__New__Su__Cai">
        <div class="__Login__">
          <a class="__Login__Logo__" href="index.html">
            <img src="static/image/svg/title.svg" />
          </a>
          <div class="__Changes__ __Changes__Login__">
            <a class="__Account__" href="login">账号登录</a>
            <a class="__Res__ __State__Active__" href="registered">账号注册</a>
          </div>

          <!--注册-->
          <div class="__Container__Res__">
            <div class="__Login__Form__">
              <div class="__Input__ __Commons__">
                <label for="__Res__Tel__">设置不多于20个字符的用户名</label>
                <input type="tel" id="__Set__Username__" onkeyup="username_check()" value="" />
                <span class="__Warning__" id="username-check">
                  <em>超出规定长度</em>
                  <i class="fa fa-warning"></i>
                </span>
              </div>

              <div class="__Input__ __Commons__">
                <label for="__Res__Tel__">请输入您的邮箱地址</label>
                <input type="tel" id="__Res__Mail__" onkeyup="email_check()" value="" />
                <span class="__Warning__" id="email-check">
                  <em>邮箱地址格式不正确</em>
                  <i class="fa fa-warning"></i>
                </span>
              </div>

              <div class="__Input__ __Commons__">
                <label for="__Res__Code__">请输入验证码</label>
                <input type="tel" id="__Res__Code__" onkeyup="vcode_check()" value="" />
                <a href="javascript:void(0)" class="__The__Code__">获取验证码</a>
                <span class="__Warning__" id="vcode-check">
                  <em>验证码错误，请重新输入</em>
                  <i class="fa fa-warning"></i>
                </span>
              </div>

              <div class="__Input__ __Commons__">
                <label for="__Set__Password__">设置6-16个字符的登录密码</label>
                <input type="password" id="__Set__Password__" onkeyup="password_check(this)" value="" />
                <span class="__Warning__" id="password-check">
                  <em>密码格式错误，请重新输入</em>
                  <i class="fa fa-warning"></i>
                </span>
              </div>

              <div class="__Input__ __Commons__">
                <label for="__Confirm__Password__">确认登录密码</label>
                <input type="password" id="__Confirm__Password__" onkeyup="password_recheck(this)" value="" />
                <span class="__Warning__" id="password-recheck">
                  <em>两次密码不一致，请重新输入</em>
                  <i class="fa fa-warning"></i>
                </span>
              </div>

              <div class="__Read__">
                <span>
                  <input type="checkbox" name="__Read__Me__" checked="checked" id="__Read__Me__" value="" />
                  <label for="__Read__Me__">
                    <i class="fa fa-square"></i>
                    <i class="fa fa-check-square"></i>
                  </label>
                </span>
                <span>我已阅读并接受 <a href="agreement.html" target="_blank">《星空资源分享协议说明》</a></span>
              </div>
            </div>

            <div class="__Button__">
              <button id="dologin" type="button" class="__Res__Btn__">注册</button>
              <script>
                $(document).ready(function() {
                	alert("sad")
                    $('#dologin').click(function() {
                        var username = document.getElementById('__Number__').value;
                        var passwd = document.getElementById('__Password__').value;
                        var email = document.getElementById('__Res__Mail__').value;
						alert(username + " " + passwd + " " + email);
                        $.get('register/check', {
                            username: username,
                            password: passwd,
                            email: email
                        }, function(data, status) {
							console.log(data)
                            var json = JSON.parse(data);
                            var respCode = json.responseCode;
                          
                            if(respCode == "203") {
                              // $.cookie('username', username, {
                              //     path: '/'
                              // });
                              alert("用户名已存在");
                            }else if(respCode == "204") {
                              alert("邮箱已存在");
                            }else if(respCode == "404") {
                              alert("什么地方出错了～");
                            }else {
                              confirm("注册成功啦～请登录");
                              window.location.href = "login";
                            }
                        });
                    });
                });
            </script>
            </div>
            <div class="__Have__Account">已有账号，<a class="__Go__To__Login__" href="login">马上登录</a></div>
          </div>

          </div>


        </div>

        <!--背景动画-->
        <div class="__Bg__Move" id="__Bg__Moves"></div>

    <script type="text/javascript">
      $('#__Bg__Moves').polygonizr();
    </script>
  </body>
</html>